{"ast":null,"code":"//import auth0 from '../../../lib/auth0';\nimport { firebase } from '../../../lib';\nconst firebaseDB = firebase.database();\nexport default (async (req, res) => {\n  try {\n    const {\n      name\n    } = req.body; // //Add auth0\n    // const session = await auth0.getSession(req);\n    // if (!session || !session.user) {\n    //   res.writeHead(302, {\n    //     Location: '/api/login'\n    //   });\n    //   res.end();\n    //   return;\n    // }\n    // const { user } = session\n    // const { name: username } = user\n    //const username = \"sharicazap@gmail.com\";\n    //Agrego document en la collection de historias (usando firebase con async/await)\n\n    const responseKey = await firebaseDB.ref('meditusData').push({\n      //username,\n      name // historia,\n      //questions,\n\n    }).getKey(); //Devuelvo el usuario recien creado\n\n    res.status(200).json({\n      \"status\": \"added\",\n      \"id\": responseKey,\n      name\n    });\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 500).json({\n      code: error.code,\n      error: error.message\n    });\n  }\n});","map":{"version":3,"sources":["C:/Users/Usuario/Documents/GitHub/next-meditus/next-meditus/pages/api/meditus/add.js"],"names":["firebase","firebaseDB","database","req","res","name","body","responseKey","ref","push","getKey","status","json","error","console","code","message"],"mappings":"AAAA;AACA,SAASA,QAAT,QAAyB,cAAzB;AACA,MAAMC,UAAU,GAAGD,QAAQ,CAACE,QAAT,EAAnB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC/B,MAAI;AACJ,UAAM;AAAEC,MAAAA;AAAF,QAAWF,GAAG,CAACG,IAArB,CADI,CAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,UAAMC,WAAW,GAAG,MAAMN,UAAU,CAACO,GAAX,CAAe,aAAf,EAA8BC,IAA9B,CAAmC;AAC3D;AACEJ,MAAAA,IAFyD,CAG1D;AACC;;AAJyD,KAAnC,EAKvBK,MALuB,EAA1B,CAfI,CAsBJ;;AACAN,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAE,gBAAU,OAAZ;AAAqB,YAAML,WAA3B;AAAuCF,MAAAA;AAAvC,KAArB;AAEC,GAzBD,CAyBE,OAAOQ,KAAP,EAAc;AAChBC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAT,IAAAA,GAAG,CAACO,MAAJ,CAAWE,KAAK,CAACF,MAAN,IAAgB,GAA3B,EAAgCC,IAAhC,CAAqC;AACrCG,MAAAA,IAAI,EAAEF,KAAK,CAACE,IADyB;AAEjCF,MAAAA,KAAK,EAAEA,KAAK,CAACG;AAFoB,KAArC;AAIC;AAAC,CAhCN","sourcesContent":["//import auth0 from '../../../lib/auth0';\nimport { firebase } from '../../../lib';\nconst firebaseDB = firebase.database();\n\nexport default async (req, res) => {\n    try {\n    const { name } = req.body;\n    // //Add auth0\n    // const session = await auth0.getSession(req);\n    // if (!session || !session.user) {\n    //   res.writeHead(302, {\n    //     Location: '/api/login'\n    //   });\n    //   res.end();\n    //   return;\n    // }\n    // const { user } = session\n    // const { name: username } = user\n    //const username = \"sharicazap@gmail.com\";\n    //Agrego document en la collection de historias (usando firebase con async/await)\n    const responseKey = await firebaseDB.ref('meditusData').push({\n      //username,\n        name,\n       // historia,\n        //questions,\n    }).getKey()\n    \n    //Devuelvo el usuario recien creado\n    res.status(200).json({ \"status\": \"added\", \"id\": responseKey,name });\n\n    } catch (error) {\n    console.error(error);\n    res.status(error.status || 500).json({\n    code: error.code,\n        error: error.message\n    });\n    }};"]},"metadata":{},"sourceType":"module"}